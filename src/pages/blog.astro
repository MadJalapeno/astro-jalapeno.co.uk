---
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
---

<html>
    <head>
        <title>My Blog</title>
    </head>
    <body>
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="/blog">Blog</a>
        
        <h1>Welcome to My Blog</h1>
        <ul>
            {posts.map(post => (
                <li key={post.id}>
                    <a href={`/blog/${post.slug}`}>{post.data.title}</a>
                </li>
            ))}
        </ul>
    </body>
</html>